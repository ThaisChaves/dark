{"version":3,"sources":["webpack:///./node_modules/@ecomplus/storefront-components/src/scss/ABackdrop.scss?11c9","webpack:///./node_modules/@ecomplus/storefront-components/src/html/ABackdrop.html","webpack:///./node_modules/@ecomplus/storefront-components/src/js/ABackdrop.js?e2da","webpack:///./node_modules/@ecomplus/storefront-components/src/js/ABackdrop.js","webpack:///./node_modules/@ecomplus/storefront-components/src/ABackdrop.vue","webpack:///./node_modules/@ecomplus/storefront-components/src/scss/ABackdrop.scss?7100","webpack:///./node_modules/@ecomplus/storefront-components/src/scss/ABackdrop.scss","webpack:///./node_modules/@ecomplus/storefront-components/src/html/AAlert.html","webpack:///./node_modules/@ecomplus/storefront-components/src/js/AAlert.js?f73d","webpack:///./node_modules/@ecomplus/storefront-components/src/js/AAlert.js","webpack:///./node_modules/@ecomplus/storefront-components/src/AAlert.vue","webpack:///./node_modules/@ecomplus/storefront-components/src/scss/LoginModal.scss?4366","webpack:///./node_modules/@ecomplus/storefront-components/src/scss/LoginModal.scss?b88e","webpack:///./node_modules/@ecomplus/storefront-components/src/scss/LoginModal.scss","webpack:///./node_modules/@ecomplus/storefront-components/src/js/LoginModal.js?cc35","webpack:///./node_modules/@ecomplus/storefront-components/src/js/LoginModal.js","webpack:///./node_modules/@ecomplus/storefront-components/src/LoginModal.vue","webpack:///./node_modules/@ecomplus/storefront-components/src/html/LoginModal.html","webpack:///./node_modules/@ecomplus/widget-user/src/index.js"],"names":["content","module","i","locals","exports","add","default","name","props","isVisible","type","Boolean","zIndexOnShow","Number","transitionMs","data","opacity","zIndex","top","computed","style","this","transition","methods","hide","$emit","lockBodyScroll","document","body","maxWidth","offsetWidth","overflow","watch","setTimeout","mounted","component","_h","$createElement","_self","_c","staticClass","on","___CSS_LOADER_API_IMPORT___","push","canShow","variant","String","count","i19close","i18n","attrs","key","_m","_e","_vm","class","_t","$event","_v","components","ALink","AAlert","ABackdrop","getGreetingsMsg","Function","accountUrl","ordersUrl","ecomPassport","Object","isLoading","isWaitingPopup","isLogged","email","oauthProviders","isLoginForm","hasLoginError","hasNoProfileFound","i19continueLoginOnPopup","i19email","i19guestCheckoutMsg","i19loginErrorMsg","i19login","i19logout","i19myAccount","i19myOrders","i19noProfileFoundWithEmail","i19signInWith","i19signInWithAnotherEmail","i19signUpWith","greetings","i19hello","i19visitor","update","checkLogin","getCustomerName","waitPromise","promise","catch","console","error","finally","setOauthProviders","fetchOauthProviders","then","host","baseUri","oauthPath","providers","provider","faIcon","providerName","link","err","presetOauthProviders","openOauthPopup","popupOauthLink","find","oauthProvider","submitEmail","fetchLogin","response","status","logout","newStatus","$nextTick","$refs","input","focus","forEach","ev","payload","directives","rawName","value","expression","_s","preventDefault","ref","domProps","target","composing","_l","options","elId","buttonId","$loginModal","getElementById","$userButton","getScopedSlots","window","storefront","Vue","created","addEventListener","e","render","createElement","vm","LoginModal","id","scopedSlots","undefined","$mount"],"mappings":"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","file":"a9100c4fc8bde23359bf.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../css-loader/dist/cjs.js??ref--0-oneOf-0-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../resolve-url-loader/index.js??ref--0-oneOf-0-2!../../../../postcss-loader/src/index.js??postcss!../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./ABackdrop.scss?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"d19157a4\", content, true, {});","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"backdrop\",style:(_vm.style),on:{\"click\":_vm.hide}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../babel-loader/lib/index.js??ref--1!./ABackdrop.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../babel-loader/lib/index.js??ref--1!./ABackdrop.js?vue&type=script&lang=js&\"","export default {\n  name: 'ABackdrop',\n\n  props: {\n    isVisible: {\n      type: Boolean,\n      default: true\n    },\n    zIndexOnShow: {\n      type: Number,\n      default: 1080\n    },\n    transitionMs: {\n      type: Number,\n      default: 150\n    }\n  },\n\n  data () {\n    return {\n      opacity: 0,\n      zIndex: null,\n      top: null\n    }\n  },\n\n  computed: {\n    style () {\n      const { top, zIndex, transitionMs, opacity } = this\n      return {\n        top,\n        transition: `opacity ${transitionMs}ms linear`,\n        opacity,\n        zIndex\n      }\n    }\n  },\n\n  methods: {\n    hide () {\n      this.$emit('update:is-visible', false)\n      this.$emit('hide')\n    },\n\n    lockBodyScroll () {\n      document.body.style.maxWidth = `${document.body.offsetWidth}px`\n      document.body.style.overflow = 'hidden'\n    }\n  },\n\n  watch: {\n    isVisible (isVisible) {\n      if (isVisible) {\n        this.opacity = null\n        this.lockBodyScroll()\n      } else {\n        this.opacity = 0\n        document.body.style.overflow = document.body.style.maxWidth = null\n      }\n    },\n\n    opacity (opacity) {\n      if (opacity === 0) {\n        setTimeout(() => {\n          this.top = this.zIndex = null\n        }, this.transitionMs)\n      } else {\n        this.zIndex = this.zIndexOnShow\n        this.top = 0\n      }\n    }\n  },\n\n  mounted () {\n    if (this.isVisible) {\n      setTimeout(() => {\n        this.opacity = null\n      }, this.transitionMs)\n      this.lockBodyScroll()\n    }\n  }\n}\n","import { render, staticRenderFns } from \"./html/ABackdrop.html?vue&type=template&id=01ebe4cc&lang=html&\"\nimport script from \"./js/ABackdrop.js?vue&type=script&lang=js&\"\nexport * from \"./js/ABackdrop.js?vue&type=script&lang=js&\"\nimport style0 from \"./scss/ABackdrop.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../vue-style-loader/index.js!../../../../css-loader/dist/cjs.js??ref--0-oneOf-0-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../resolve-url-loader/index.js??ref--0-oneOf-0-2!../../../../postcss-loader/src/index.js??postcss!../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./ABackdrop.scss?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../vue-style-loader/index.js!../../../../css-loader/dist/cjs.js??ref--0-oneOf-0-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../resolve-url-loader/index.js??ref--0-oneOf-0-2!../../../../postcss-loader/src/index.js??postcss!../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./ABackdrop.scss?vue&type=style&index=0&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \".backdrop{position:fixed;top:-100vh;left:0;width:100vw;height:100vh;background-color:var(--dark);opacity:.65;cursor:pointer;z-index:-100}\", \"\",{\"version\":3,\"sources\":[\"ABackdrop.scss\"],\"names\":[],\"mappings\":\"AAIA,UACE,cAAe,CACf,UAAW,CACX,MAAO,CACP,WAAY,CACZ,YAAa,CACb,4BAA6B,CAC7B,WAAY,CACZ,cAAe,CACf,YAAa\",\"file\":\"ABackdrop.scss\",\"sourcesContent\":[\"$primary: #222831; $secondary: #393e46; $settings-theme: (\\n  bootswatch: _,\\n  custom: _\\n); \\n.backdrop {\\n  position: fixed;\\n  top: -100vh;\\n  left: 0;\\n  width: 100vw;\\n  height: 100vh;\\n  background-color: var(--dark);\\n  opacity: .65;\\n  cursor: pointer;\\n  z-index: -100;\\n}\\n\"]}]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('transition',{attrs:{\"enter-active-class\":\"animated fadeInDown fast\"}},[(_vm.canShow)?_c('div',{key:_vm.count},[_vm._m(0)]):_vm._e()])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"alert alert-dismissible fade show\",class:(\"alert-\" + _vm.variant),attrs:{\"role\":\"alert\"}},[_vm._t(\"default\"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"alert\",\"aria-label\":_vm.i19close},on:{\"click\":function($event){return _vm.$emit('dismiss')}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])],2)}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../babel-loader/lib/index.js??ref--1!./AAlert.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../babel-loader/lib/index.js??ref--1!./AAlert.js?vue&type=script&lang=js&\"","import { i19close } from '@ecomplus/i18n'\nimport { i18n } from '@ecomplus/utils'\n\nexport default {\n  name: 'AAlert',\n\n  props: {\n    canShow: {\n      type: Boolean,\n      default: true\n    },\n    variant: {\n      type: String,\n      default: 'warning'\n    }\n  },\n\n  data () {\n    return {\n      count: 1\n    }\n  },\n\n  computed: {\n    i19close: () => i18n(i19close)\n  },\n\n  watch: {\n    canShow (canShow) {\n      if (canShow) {\n        this.count++\n      }\n    }\n  }\n}\n","import { render, staticRenderFns } from \"./html/AAlert.html?vue&type=template&id=f5f97594&lang=html&\"\nimport script from \"./js/AAlert.js?vue&type=script&lang=js&\"\nexport * from \"./js/AAlert.js?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../css-loader/dist/cjs.js??ref--0-oneOf-0-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../resolve-url-loader/index.js??ref--0-oneOf-0-2!../../../../postcss-loader/src/index.js??postcss!../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./LoginModal.scss?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"3a67daf0\", content, true, {});","import mod from \"-!../../../../vue-style-loader/index.js!../../../../css-loader/dist/cjs.js??ref--0-oneOf-0-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../resolve-url-loader/index.js??ref--0-oneOf-0-2!../../../../postcss-loader/src/index.js??postcss!../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./LoginModal.scss?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../vue-style-loader/index.js!../../../../css-loader/dist/cjs.js??ref--0-oneOf-0-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../resolve-url-loader/index.js??ref--0-oneOf-0-2!../../../../postcss-loader/src/index.js??postcss!../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./LoginModal.scss?vue&type=style&index=0&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \".login-modal__box{z-index:1090;position:fixed;top:0;left:0;width:100vw;box-sizing:border-box;border-radius:0}@media (min-width:410px){.login-modal__box{width:400px;left:50%;margin-left:-200px;top:var(--spacer-4);border-radius:var(--border-radius)}}@media (min-height:400px){.login-modal__box{top:15%}}.login-modal .alert{margin-bottom:var(--spacer-3)}.login-modal__logout{margin-top:var(--spacer-3)}.login-modal__btn{color:#fff;text-align:left;line-height:var(--line-height-lg);padding:.7rem;min-width:15rem}.login-modal__btn:hover{color:#fff}.login-modal__btn:focus{box-shadow:none}.login-modal__btn--facebook{background:#3b5999;border-color:#2f4d8a}.login-modal__btn--facebook:hover{background:#274480;border-color:#274480}.login-modal__btn--google{background:#cb4023;border-color:#be3419}.login-modal__btn--google:hover{background:#c1361a;border-color:#c1361a}.login-modal__btn--windowslive{background:#329ffc;border-color:#2996f2}.login-modal__btn--windowslive:hover{background:#1f8ce9;border-color:#1f8ce9}.login-modal__btn-icon{display:inline-block;width:1.4rem;text-align:center;margin-right:var(--spacer-1)}.login-modal__back{display:block;padding-left:.3rem;padding-right:.3rem}.login-modal__back:focus{box-shadow:none}.login-modal__visitor-info{font-size:var(--font-size-sm);margin-top:var(--spacer-2);text-align:center;color:var(--text-muted)}\", \"\",{\"version\":3,\"sources\":[\"LoginModal.scss\"],\"names\":[],\"mappings\":\"AAKE,kBACE,YAAa,CACb,cAAe,CACf,KAAM,CACN,MAAO,CACP,WAAY,CACZ,qBAAsB,CACtB,eAAgB,CAEhB,yBATF,kBAUI,WAAY,CACZ,QAAS,CACT,kBAAmB,CACnB,mBAAoB,CACpB,kCAAmC,CAMtC,CAHC,0BAjBF,kBAkBI,OAAQ,CAEX,CArBH,oBAwBI,6BAA8B,CAC/B,qBAGC,0BAA2B,CAC5B,kBAGC,UAAW,CACX,eAAgB,CAChB,iCAAkC,CAClC,aAAc,CACd,eAAgB,CALjB,wBAQG,UAAW,CARd,wBAYG,eAAgB,CACjB,4BAGC,kBAAmB,CACnB,oBAAqB,CAFtB,kCAKG,kBAAmB,CACnB,oBAAqB,CACtB,0BAID,kBAAmB,CACnB,oBAAqB,CAFtB,gCAKG,kBAAmB,CACnB,oBAAqB,CACtB,+BAID,kBAAmB,CACnB,oBAAqB,CAFtB,qCAKG,kBAAmB,CACnB,oBAAqB,CACtB,uBAID,oBAAqB,CACrB,YAAa,CACb,iBAAkB,CAClB,4BAA6B,CAC9B,mBAID,aAAc,CACd,kBAAmB,CACnB,mBAAoB,CAHrB,yBAMG,eAAgB,CACjB,2BAID,6BAA8B,CAC9B,0BAA2B,CAC3B,iBAAkB,CAClB,uBAAwB\",\"file\":\"LoginModal.scss\",\"sourcesContent\":[\"$primary: #222831; $secondary: #393e46; $settings-theme: (\\n  bootswatch: _,\\n  custom: _\\n); \\n.login-modal {\\n  &__box {\\n    z-index: 1090;\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    width: 100vw;\\n    box-sizing: border-box;\\n    border-radius: 0;\\n\\n    @media (min-width: 410px) {\\n      width: 400px;\\n      left: 50%;\\n      margin-left: -200px;\\n      top: var(--spacer-4);\\n      border-radius: var(--border-radius);\\n    }\\n\\n    @media (min-height: 400px) {\\n      top: 15%;\\n    }\\n  }\\n\\n  .alert {\\n    margin-bottom: var(--spacer-3);\\n  }\\n\\n  &__logout {\\n    margin-top: var(--spacer-3);\\n  }\\n\\n  &__btn {\\n    color: #fff;\\n    text-align: left;\\n    line-height: var(--line-height-lg);\\n    padding: .7rem;\\n    min-width: 15rem;\\n\\n    &:hover {\\n      color: #fff;\\n    }\\n\\n    &:focus {\\n      box-shadow: none;\\n    }\\n\\n    &--facebook {\\n      background: #3b5999;\\n      border-color: #2f4d8a;\\n\\n      &:hover {\\n        background: #274480;\\n        border-color: #274480;\\n      }\\n    }\\n\\n    &--google {\\n      background: #cb4023;\\n      border-color: #be3419;\\n\\n      &:hover {\\n        background: #c1361a;\\n        border-color: #c1361a;\\n      }\\n    }\\n\\n    &--windowslive {\\n      background: #329ffc;\\n      border-color: #2996f2;\\n\\n      &:hover {\\n        background: #1f8ce9;\\n        border-color: #1f8ce9;\\n      }\\n    }\\n\\n    &-icon {\\n      display: inline-block;\\n      width: 1.4rem;\\n      text-align: center;\\n      margin-right: var(--spacer-1);\\n    }\\n  }\\n\\n  &__back {\\n    display: block;\\n    padding-left: .3rem;\\n    padding-right: .3rem;\\n\\n    &:focus {\\n      box-shadow: none;\\n    }\\n  }\\n\\n  &__visitor-info {\\n    font-size: var(--font-size-sm);\\n    margin-top: var(--spacer-2);\\n    text-align: center;\\n    color: var(--text-muted);\\n  }\\n}\\n\"]}]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../../babel-loader/lib/index.js??ref--1!./LoginModal.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../babel-loader/lib/index.js??ref--1!./LoginModal.js?vue&type=script&lang=js&\"","import {\n  i19close,\n  i19continueLoginOnPopup,\n  i19email,\n  i19guestCheckoutMsg,\n  i19hello,\n  i19loginErrorMsg,\n  i19login,\n  i19logout,\n  i19myAccount,\n  i19myOrders,\n  i19noProfileFoundWithEmail,\n  i19signInWith,\n  i19signInWithAnotherEmail,\n  i19signUpWith,\n  i19visitor\n} from '@ecomplus/i18n'\n\nimport { i18n } from '@ecomplus/utils'\nimport ecomPassport from '@ecomplus/passport-client'\nimport ALink from '../ALink.vue'\nimport AAlert from '../AAlert.vue'\nimport ABackdrop from '../ABackdrop.vue'\n\nexport default {\n  name: 'LoginModal',\n\n  components: {\n    ALink,\n    AAlert,\n    ABackdrop\n  },\n\n  props: {\n    isVisible: {\n      type: Boolean,\n      default: true\n    },\n    getGreetingsMsg: Function,\n    accountUrl: {\n      type: String,\n      default: '/app/#/account/'\n    },\n    ordersUrl: {\n      type: String,\n      default: '/app/#/account/orders'\n    },\n    ecomPassport: {\n      type: Object,\n      default () {\n        return ecomPassport\n      }\n    }\n  },\n\n  data () {\n    return {\n      isLoading: false,\n      isWaitingPopup: false,\n      isLogged: false,\n      email: '',\n      name: '',\n      oauthProviders: [],\n      isLoginForm: false,\n      hasLoginError: false,\n      hasNoProfileFound: false\n    }\n  },\n\n  computed: {\n    i19close: () => i18n(i19close),\n    i19continueLoginOnPopup: () => i18n(i19continueLoginOnPopup),\n    i19email: () => i18n(i19email),\n    i19guestCheckoutMsg: () => i18n(i19guestCheckoutMsg),\n    i19loginErrorMsg: () => i18n(i19loginErrorMsg),\n    i19login: () => i18n(i19login),\n    i19logout: () => i18n(i19logout),\n    i19myAccount: () => i18n(i19myAccount),\n    i19myOrders: () => i18n(i19myOrders),\n    i19noProfileFoundWithEmail: () => i18n(i19noProfileFoundWithEmail),\n    i19signInWith: () => i18n(i19signInWith),\n    i19signInWithAnotherEmail: () => i18n(i19signInWithAnotherEmail),\n    i19signUpWith: () => i18n(i19signUpWith),\n\n    greetings () {\n      if (typeof this.getGreetingsMsg === 'function') {\n        return this.getGreetingsMsg(this.name)\n      } else {\n        return `${i18n(i19hello)} ${this.name || i18n(i19visitor)}`\n      }\n    }\n  },\n\n  methods: {\n    hide () {\n      this.$emit('update:is-visible', false)\n    },\n\n    update () {\n      const { checkLogin, getCustomerName } = this.ecomPassport\n      this.name = getCustomerName()\n      this.isLogged = checkLogin()\n      this.email = ''\n      this.isWaitingPopup = false\n    },\n\n    waitPromise (promise) {\n      this.isLoading = true\n      promise\n        .catch(console.error)\n        .finally(() => {\n          this.isLoading = false\n        })\n    },\n\n    setOauthProviders () {\n      const promise = this.ecomPassport.fetchOauthProviders()\n        .then(({ host, baseUri, oauthPath, providers }) => {\n          const oauthProviders = []\n          for (const provider in providers) {\n            if (providers[provider]) {\n              const { faIcon, providerName } = providers[provider]\n              oauthProviders.push({\n                link: host + baseUri + provider + oauthPath,\n                faIcon,\n                provider,\n                providerName\n              })\n            }\n          }\n          this.oauthProviders = oauthProviders\n        })\n        .catch(err => {\n          this.presetOauthProviders()\n          throw err\n        })\n      this.waitPromise(promise)\n      return promise\n    },\n\n    presetOauthProviders () {\n      this.oauthProviders = [\n        {\n          faIcon: 'fa-facebook-f',\n          providerName: 'Facebook',\n          provider: 'facebook'\n        },\n        {\n          faIcon: 'fa-google',\n          providerName: 'Google',\n          provider: 'google'\n        },\n        {\n          faIcon: 'fa-windows',\n          providerName: 'Windows',\n          provider: 'windowslive'\n        }\n      ]\n    },\n\n    openOauthPopup (link, provider) {\n      this.hasLoginError = false\n      if (link) {\n        this.ecomPassport.popupOauthLink(link)\n        this.isWaitingPopup = true\n      } else {\n        const promise = this.setOauthProviders()\n          .then(() => {\n            const link = this.oauthProviders\n              .find(oauthProvider => oauthProvider.provider === provider)\n            this.openOauthPopup(link, provider)\n          })\n          .catch(err => {\n            this.hasLoginError = true\n            throw err\n          })\n        this.waitPromise(promise)\n      }\n    },\n\n    submitEmail () {\n      this.isLoginForm = false\n      const promise = this.ecomPassport.fetchLogin(this.email)\n        .catch(err => {\n          const { response } = err\n          if (response && response.status === 403) {\n            this.hasNoProfileFound = true\n          } else {\n            setTimeout(() => {\n              this.hasLoginError = true\n            }, 100)\n            throw err\n          }\n        })\n      this.waitPromise(promise)\n    },\n\n    logout () {\n      this.ecomPassport.logout()\n    }\n  },\n\n  watch: {\n    hasNoProfileFound (newStatus) {\n      if (newStatus === false) {\n        this.email = ''\n      }\n      this.isLoginForm = !newStatus\n    },\n\n    isLoginForm (isLoginForm) {\n      this.hasLoginError = false\n      if (isLoginForm) {\n        this.isWaitingPopup = false\n        this.$nextTick(() => {\n          setTimeout(() => {\n            this.$refs.input.focus()\n          }, 200)\n        })\n      }\n    }\n  },\n\n  mounted () {\n    ;['login', 'logout'].forEach(ev => {\n      this.ecomPassport.on(ev, payload => {\n        this.update()\n        this.$emit(ev, payload)\n      })\n    })\n    this.update()\n    this.setOauthProviders()\n  }\n}\n","import { render, staticRenderFns } from \"./html/LoginModal.html?vue&type=template&id=050e4e70&lang=html&\"\nimport script from \"./js/LoginModal.js?vue&type=script&lang=js&\"\nexport * from \"./js/LoginModal.js?vue&type=script&lang=js&\"\nimport style0 from \"./scss/LoginModal.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-modal\"},[_c('a-backdrop',{attrs:{\"is-visible\":_vm.isVisible},on:{\"hide\":_vm.hide}}),_c('transition',{attrs:{\"enter-active-class\":\"animated zoomIn\",\"leave-active-class\":\"animated fadeOutUp slow\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isVisible),expression:\"isVisible\"}],staticClass:\"login-modal__box card\"},[_vm._t(\"header\",[_c('div',{staticClass:\"login-modal__header card-header\"},[_vm._v(\" \"+_vm._s(_vm.greetings)+\" \"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"aria-label\":_vm.i19close},on:{\"click\":_vm.hide}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"×\")])])])]),_c('div',{staticClass:\"login-modal__body card-body\"},[(_vm.hasLoginError)?_c('div',{staticClass:\"alert alert-warning\",attrs:{\"role\":\"alert\"}},[_vm._v(\" \"+_vm._s(_vm.i19loginErrorMsg)+\" \")]):_vm._e(),_c('transition-group',{attrs:{\"enter-active-class\":\"animated fadeIn\",\"leave-active-class\":\"animated position-absolute fadeOut faster\"}},[(_vm.isLoading)?_c('div',{key:\"waiting\"},[_c('div',{staticClass:\"spinner-border m-3\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])])]):(_vm.isLogged)?_c('div',{key:\"logged\"},[_c('div',{staticClass:\"list-group list-group-flush\"},[_c('a-link',{staticClass:\"list-group-item list-group-item-action\",attrs:{\"href\":_vm.ordersUrl}},[_vm._v(\" \"+_vm._s(_vm.i19myOrders)+\" \")]),_c('a-link',{staticClass:\"list-group-item list-group-item-action\",attrs:{\"href\":_vm.accountUrl}},[_vm._v(\" \"+_vm._s(_vm.i19myAccount)+\" \")])],1),_c('button',{staticClass:\"login-modal__logout btn btn-block btn-danger\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.logout}},[_c('i',{staticClass:\"fas fa-sign-out-alt\"}),_vm._v(\" \"+_vm._s(_vm.i19logout)+\" \")])]):(!_vm.isLoginForm)?_c('div',{key:\"oauth\"},[(!_vm.isWaitingPopup && _vm.hasNoProfileFound)?_c('div',{staticClass:\"alert alert-info\",attrs:{\"role\":\"alert\"}},[_vm._v(\" \"+_vm._s(_vm.i19noProfileFoundWithEmail)+\" \"),_c('b',[_vm._v(_vm._s(_vm.email))]),_vm._v(\". \"),_c('br'),_c('a',{staticClass:\"alert-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.hasNoProfileFound = false}}},[_vm._v(\" \"+_vm._s(_vm.i19signInWithAnotherEmail)+\" \")])]):_vm._e(),_c('a-alert',{attrs:{\"can-show\":_vm.isWaitingPopup,\"variant\":\"info\"}},[_vm._v(\" \"+_vm._s(_vm.i19continueLoginOnPopup)+\". \")]),_vm._l((_vm.oauthProviders),function(ref){\nvar link = ref.link;\nvar faIcon = ref.faIcon;\nvar providerName = ref.providerName;\nvar provider = ref.provider;\nreturn _c('button',{key:provider,staticClass:\"login-modal__btn btn btn-block\",class:(\"login-modal__btn--\" + provider),attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.openOauthPopup(link, provider)}}},[_c('span',{staticClass:\"login-modal__btn-icon\"},[_c('i',{class:(\"fab \" + faIcon)})]),_vm._v(\" \"+_vm._s(_vm.hasNoProfileFound ? _vm.i19signUpWith : _vm.i19signInWith)+\" \"+_vm._s(providerName)+\" \")])}),(!_vm.hasNoProfileFound)?_c('button',{key:\"email\",staticClass:\"login-modal__btn btn btn-block btn-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.isLoginForm = true}}},[_c('span',{staticClass:\"login-modal__btn-icon\"},[_c('i',{staticClass:\"fas fa-envelope\"})]),_vm._v(\" \"+_vm._s((_vm.i19signInWith + \" \" + _vm.i19email))+\" \")]):_c('div',{staticClass:\"login-modal__visitor-info\"},[_vm._v(\" \"+_vm._s(_vm.i19guestCheckoutMsg)+\" \")])],2):_c('div',{key:\"form\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.submitEmail($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"login-modal__back btn\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.isLoginForm = false}}},[_c('i',{staticClass:\"fas fa-arrow-left\"})]),_c('label',{attrs:{\"for\":\"login-modal-email\"}},[_vm._v(\" \"+_vm._s((_vm.i19signInWith + \" \" + _vm.i19email))+\" \")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],ref:\"input\",staticClass:\"form-control\",attrs:{\"type\":\"email\",\"id\":\"login-modal-email\",\"placeholder\":\"email@mail.com\",\"required\":\"\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}})]),_c('button',{staticClass:\"btn btn-block btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\" \"+_vm._s(_vm.i19login)+\" \")])])])])],1)],2)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*!\n * @ecomplus/widget-user\n * (c) E-Com Club <ti@e-com.club>\n * Released under the MIT License.\n */\n\nimport Vue from 'vue'\nimport LoginModal from '#components/LoginModal.vue'\n\nexport default (options = {}, elId = 'login-modal', buttonId = 'user-button') => {\n  const $loginModal = document.getElementById(elId)\n  const $userButton = document.getElementById(buttonId)\n  if ($loginModal && $userButton) {\n    const getScopedSlots = window.storefront && window.storefront.getScopedSlots\n\n    new Vue({\n      data: {\n        isVisible: false\n      },\n      created () {\n        $userButton.addEventListener('click', e => {\n          e.preventDefault()\n          this.isVisible = true\n        })\n      },\n\n      render (createElement) {\n        const vm = this\n        return createElement(LoginModal, {\n          attrs: {\n            id: elId\n          },\n          props: {\n            ...options.props,\n            isVisible: vm.isVisible\n          },\n          on: {\n            'update:is-visible' (isVisible) {\n              vm.isVisible = isVisible\n            }\n          },\n          scopedSlots: typeof getScopedSlots === 'function'\n            ? getScopedSlots($loginModal, createElement)\n            : undefined\n        })\n      }\n    }).$mount($loginModal)\n  }\n}\n"],"sourceRoot":""}