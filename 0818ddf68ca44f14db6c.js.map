{"version":3,"sources":["webpack:///./node_modules/@ecomplus/storefront-components/src/scss/InstantSearch.scss?6130","webpack:///./node_modules/@ecomplus/storefront-components/src/scss/InstantSearch.scss?bd7f","webpack:///./node_modules/@ecomplus/storefront-components/src/scss/InstantSearch.scss","webpack:///./node_modules/@ecomplus/storefront-components/src/js/InstantSearch.js?403b","webpack:///./node_modules/@ecomplus/storefront-components/src/js/InstantSearch.js","webpack:///./node_modules/@ecomplus/storefront-components/src/InstantSearch.vue","webpack:///./node_modules/@ecomplus/storefront-components/src/html/InstantSearch.html","webpack:///./node_modules/@ecomplus/widget-search/src/index.js"],"names":["content","module","i","locals","exports","add","default","___CSS_LOADER_API_IMPORT___","push","name","components","ABackdrop","SearchEngine","props","term","type","String","isVisible","Boolean","pageSize","Number","autoFixScore","searchEngineProps","Object","productCardProps","isSmall","data","localTerm","this","searchTriggerTimer","searchTerm","history","totalSearchResults","isSearching","hasSearched","computed","i19close","i18n","i19items","i19search","i19searchProducts","i19seeAll","methods","hide","$emit","setSearchTerm","$form","$el","parentElement","tagName","$inputs","elements","length","value","submit","handleFetching","fetching","finally","handleSearch","ecomSearch","getTotalCount","filter","indexOf","slice","watch","handler","$nextTick","$refs","input","focus","immediate","nextSearchTerm","clearTimeout","setTimeout","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","directives","rawName","expression","_t","ref","domProps","$event","target","composing","_v","_e","_b","assign","_s","toLowerCase","_l","preventDefault","options","elId","inputId","$instantSearch","document","getElementById","$searchInput","getScopedSlots","window","storefront","Vue","created","addEventListener","render","createElement","vm","InstantSearch","id","scopedSlots","undefined","$mount"],"mappings":"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","file":"0818ddf68ca44f14db6c.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../css-loader/dist/cjs.js??ref--0-oneOf-0-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../resolve-url-loader/index.js??ref--0-oneOf-0-2!../../../../postcss-loader/src/index.js??postcss!../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./InstantSearch.scss?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"25caf3ee\", content, true, {});","import mod from \"-!../../../../vue-style-loader/index.js!../../../../css-loader/dist/cjs.js??ref--0-oneOf-0-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../resolve-url-loader/index.js??ref--0-oneOf-0-2!../../../../postcss-loader/src/index.js??postcss!../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./InstantSearch.scss?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../vue-style-loader/index.js!../../../../css-loader/dist/cjs.js??ref--0-oneOf-0-1!../../../../vue-loader/lib/loaders/stylePostLoader.js!../../../../resolve-url-loader/index.js??ref--0-oneOf-0-2!../../../../postcss-loader/src/index.js??postcss!../../../../sass-loader/dist/cjs.js??ref--0-oneOf-0-4!./InstantSearch.scss?vue&type=style&index=0&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(true);\n// Module\nexports.push([module.id, \".search__box{z-index:1090;position:fixed;top:0;left:0;width:100vw;max-height:100vh;border-radius:0}@media (min-width:576px){.search__box{width:90vw;margin-left:5vw;max-height:90vh;margin-top:5vh;border-radius:var(--border-radius)}}@media (min-width:992px){.search__box{width:80vw;margin-left:10vw}}.search__header{position:relative;display:flex;align-items:center}.search__status .close{transition:opacity .2s}.search__status .close:not(:only-child){opacity:0}.search__spinner{position:absolute;height:2rem;width:2rem;top:50%;margin-top:-1rem;right:1rem}.search__input-group{position:relative;width:100%;padding-right:var(--spacer-3)}.search__input{padding-right:var(--spacer-5)}.search__submit{border:none;background:none;position:absolute;top:50%;margin-top:-1.25rem;right:var(--spacer-4);font-size:1.5rem;line-height:1;padding:.5rem;color:var(--secondary-lighter);transition:color .15s}.search__submit i,.search__submit svg{vertical-align:top}.search__submit:hover{color:var(--primary-light)}.search__body{overflow-y:auto;overflow-x:hidden;min-height:7rem;padding-left:0;padding-right:0}@media (min-width:576px){.search__body{padding-left:var(--spacer-2);padding-right:var(--spacer-2)}}@media (min-width:992px){.search__body{min-height:10rem}}.search__loading{display:block;height:3rem;width:3rem;margin:var(--spacer-5)}.search__footer{display:flex;align-items:center;justify-content:space-between}.search__count{color:var(--text-muted);line-height:var(--line-height-lg);min-width:250px}.search__history{overflow-x:auto;white-space:nowrap;font-weight:var(--font-light);font-size:var(--font-size-lg);color:var(--text-muted)}.search__history-link{margin-left:var(--spacer-2)}\", \"\",{\"version\":3,\"sources\":[\"InstantSearch.scss\"],\"names\":[],\"mappings\":\"AAKE,aACE,YAAa,CACb,cAAe,CACf,KAAM,CACN,MAAO,CACP,WAAY,CACZ,gBAAiB,CACjB,eAAgB,CAEhB,yBATF,aAUI,UAAW,CACX,eAAgB,CAChB,eAAgB,CAChB,cAAe,CACf,kCAAmC,CAOtC,CAJC,yBAjBF,aAkBI,UAAW,CACX,gBAAiB,CAEpB,CAED,gBACE,iBAAkB,CAClB,YAAa,CACb,kBAAmB,CACpB,uBAGC,sBAAuB,CADxB,wCAIG,SAAU,CACX,iBAID,iBAAkB,CAClB,WAAY,CACZ,UAAW,CACX,OAAQ,CACR,gBAAiB,CACjB,UAAW,CACZ,qBAGC,iBAAkB,CAClB,UAAW,CACX,6BAA8B,CAC/B,eAGC,6BAA8B,CAC/B,gBAGC,WAAY,CACZ,eAAgB,CAChB,iBAAkB,CAClB,OAAQ,CACR,mBAAoB,CACpB,qBAAsB,CACtB,gBAAiB,CACjB,aAAc,CACd,aAAc,CACd,8BAA+B,CAC/B,qBAAsB,CAXvB,sCAeG,kBAAmB,CAftB,sBAmBG,0BAA2B,CAC5B,cAID,eAAgB,CAChB,iBAAkB,CAClB,eAAgB,CAChB,cAAe,CACf,eAAgB,CAEhB,yBAPF,cAQI,4BAA6B,CAC7B,6BAA8B,CAMjC,CAHC,yBAZF,cAaI,gBAAiB,CAEpB,CAED,iBACE,aAAc,CACd,WAAY,CACZ,UAAW,CACX,sBAAuB,CACxB,gBAGC,YAAa,CACb,kBAAmB,CACnB,6BAA8B,CAC/B,eAGC,uBAAwB,CACxB,iCAAkC,CAClC,eAAgB,CACjB,iBAGC,eAAgB,CAChB,kBAAmB,CACnB,6BAA8B,CAC9B,6BAA8B,CAC9B,uBAAwB,CACzB,sBAGC,2BAA4B\",\"file\":\"InstantSearch.scss\",\"sourcesContent\":[\"$primary: #222831; $secondary: #393e46; $settings-theme: (\\n  bootswatch: _,\\n  custom: _\\n); \\n.search {\\n  &__box {\\n    z-index: 1090;\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    width: 100vw;\\n    max-height: 100vh;\\n    border-radius: 0;\\n\\n    @media (min-width: 576px) {\\n      width: 90vw;\\n      margin-left: 5vw;\\n      max-height: 90vh;\\n      margin-top: 5vh;\\n      border-radius: var(--border-radius);\\n    }\\n\\n    @media (min-width: 992px) {\\n      width: 80vw;\\n      margin-left: 10vw;\\n    }\\n  }\\n\\n  &__header {\\n    position: relative;\\n    display: flex;\\n    align-items: center;\\n  }\\n\\n  &__status .close {\\n    transition: opacity .2s;\\n\\n    &:not(:only-child) {\\n      opacity: 0;\\n    }\\n  }\\n\\n  &__spinner {\\n    position: absolute;\\n    height: 2rem;\\n    width: 2rem;\\n    top: 50%;\\n    margin-top: -1rem;\\n    right: 1rem;\\n  }\\n\\n  &__input-group {\\n    position: relative;\\n    width: 100%;\\n    padding-right: var(--spacer-3);\\n  }\\n\\n  &__input {\\n    padding-right: var(--spacer-5);\\n  }\\n\\n  &__submit {\\n    border: none;\\n    background: none;\\n    position: absolute;\\n    top: 50%;\\n    margin-top: -1.25rem;\\n    right: var(--spacer-4);\\n    font-size: 1.5rem;\\n    line-height: 1;\\n    padding: .5rem;\\n    color: var(--secondary-lighter);\\n    transition: color .15s;\\n\\n    i,\\n    svg {\\n      vertical-align: top;\\n    }\\n\\n    &:hover {\\n      color: var(--primary-light);\\n    }\\n  }\\n\\n  &__body {\\n    overflow-y: auto;\\n    overflow-x: hidden;\\n    min-height: 7rem;\\n    padding-left: 0;\\n    padding-right: 0;\\n\\n    @media (min-width: 576px) {\\n      padding-left: var(--spacer-2);\\n      padding-right: var(--spacer-2);\\n    }\\n\\n    @media (min-width: 992px) {\\n      min-height: 10rem;\\n    }\\n  }\\n\\n  &__loading {\\n    display: block;\\n    height: 3rem;\\n    width: 3rem;\\n    margin: var(--spacer-5);\\n  }\\n\\n  &__footer {\\n    display: flex;\\n    align-items: center;\\n    justify-content: space-between;\\n  }\\n\\n  &__count {\\n    color: var(--text-muted);\\n    line-height: var(--line-height-lg);\\n    min-width: 250px;\\n  }\\n\\n  &__history {\\n    overflow-x: auto;\\n    white-space: nowrap;\\n    font-weight: var(--font-light);\\n    font-size: var(--font-size-lg);\\n    color: var(--text-muted);\\n  }\\n\\n  &__history-link {\\n    margin-left: var(--spacer-2);\\n  }\\n}\\n\"]}]);\n// Exports\nmodule.exports = exports;\n","import mod from \"-!../../../../babel-loader/lib/index.js??ref--1!./InstantSearch.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../babel-loader/lib/index.js??ref--1!./InstantSearch.js?vue&type=script&lang=js&\"","import {\n  i19close,\n  i19items,\n  i19search,\n  i19searchProducts,\n  i19seeAll\n} from '@ecomplus/i18n'\n\nimport { i18n } from '@ecomplus/utils'\nimport ABackdrop from '../ABackdrop.vue'\nimport SearchEngine from '../SearchEngine.vue'\n\nexport default {\n  name: 'InstantSearch',\n\n  components: {\n    ABackdrop,\n    SearchEngine\n  },\n\n  props: {\n    term: {\n      type: String,\n      default: ''\n    },\n    isVisible: {\n      type: Boolean,\n      default: true\n    },\n    pageSize: {\n      type: Number,\n      default: 8\n    },\n    autoFixScore: {\n      type: Number,\n      default: 0.83\n    },\n    searchEngineProps: Object,\n    productCardProps: {\n      type: Object,\n      default () {\n        return {\n          isSmall: true\n        }\n      }\n    }\n  },\n\n  data () {\n    return {\n      localTerm: this.term,\n      searchTriggerTimer: null,\n      searchTerm: '',\n      history: [],\n      totalSearchResults: 0,\n      isSearching: false,\n      hasSearched: false\n    }\n  },\n\n  computed: {\n    i19close: () => i18n(i19close),\n    i19items: () => i18n(i19items),\n    i19search: () => i18n(i19search),\n    i19searchProducts: () => i18n(i19searchProducts),\n    i19seeAll: () => i18n(i19seeAll)\n  },\n\n  methods: {\n    hide () {\n      this.$emit('update:is-visible', false)\n    },\n\n    setSearchTerm (term) {\n      const $form = this.$el.parentElement\n      if ($form && $form.tagName === 'FORM') {\n        const $inputs = $form.elements\n        for (let i = 0; i < $inputs.length; i++) {\n          if ($inputs[i].name === 'term') {\n            $inputs[i].value = term\n            break\n          }\n        }\n        $form.submit()\n      } else {\n        this.localTerm = term\n      }\n    },\n\n    handleFetching ({ fetching }) {\n      this.isSearching = true\n      fetching.finally(() => {\n        this.isSearching = false\n      })\n    },\n\n    handleSearch ({ ecomSearch }) {\n      this.totalSearchResults = ecomSearch.getTotalCount()\n      this.history = ecomSearch.history\n        .filter(term => term.length > 2 && this.localTerm.indexOf(term) === -1)\n        .slice(0, 6)\n      if (!this.hasSearched) {\n        this.hasSearched = true\n      }\n    }\n  },\n\n  watch: {\n    isVisible: {\n      handler (isVisible) {\n        if (isVisible) {\n          this.$nextTick(() => {\n            if (this.$refs.input) {\n              this.$refs.input.focus()\n            }\n          })\n        }\n      },\n      immediate: true\n    },\n\n    localTerm: {\n      handler (term) {\n        const nextSearchTerm = term.length > 2 ? term : ''\n        if (nextSearchTerm !== this.searchTerm) {\n          clearTimeout(this.searchTriggerTimer)\n          this.searchTriggerTimer = setTimeout(() => {\n            this.searchTerm = nextSearchTerm\n          }, 400)\n        }\n        this.$emit('update:term', term)\n      },\n      immediate: true\n    }\n  }\n}\n","import { render, staticRenderFns } from \"./html/InstantSearch.html?vue&type=template&id=2fec29b6&lang=html&\"\nimport script from \"./js/InstantSearch.js?vue&type=script&lang=js&\"\nexport * from \"./js/InstantSearch.js?vue&type=script&lang=js&\"\nimport style0 from \"./scss/InstantSearch.scss?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('a-backdrop',{attrs:{\"is-visible\":_vm.isVisible},on:{\"hide\":_vm.hide}}),_c('transition',{attrs:{\"enter-active-class\":\"animated zoomIn\",\"leave-active-class\":\"animated fadeOutUp slow\"}},[(_vm.isVisible || _vm.hasSearched)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isVisible),expression:\"isVisible\"}],staticClass:\"search__box card\"},[_vm._t(\"header\",[_c('header',{staticClass:\"search__header card-header\"},[_c('div',{staticClass:\"search__input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.localTerm),expression:\"localTerm\"}],ref:\"input\",staticClass:\"search__input form-control form-control-lg\",attrs:{\"type\":\"search\",\"autocomplete\":\"off\",\"placeholder\":_vm.i19searchProducts},domProps:{\"value\":(_vm.localTerm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.localTerm=$event.target.value}}}),_c('button',{staticClass:\"search__submit\",attrs:{\"type\":\"submit\",\"aria-label\":_vm.i19search}},[_c('i',{staticClass:\"fas fa-search\"})])]),_c('div',{staticClass:\"search__status\"},[(_vm.isSearching)?_c('div',{staticClass:\"search__spinner spinner-grow\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])]):_vm._e(),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"aria-label\":_vm.i19close},on:{\"click\":_vm.hide}},[_c('i',{staticClass:\"fas fa-times-circle\"})])])])],null,{ isSearching: _vm.isSearching }),_c('article',{staticClass:\"search__body card-body\"},[_vm._t(\"search-engine\",[_c('SearchEngine',_vm._b({attrs:{\"term\":_vm.searchTerm,\"is-filterable\":false,\"product-card-props\":_vm.productCardProps},on:{\"update:term\":function($event){_vm.searchTerm=$event},\"fetch\":_vm.handleFetching,\"search\":_vm.handleSearch}},'SearchEngine',Object.assign({}, _vm.searchEngineProps, {pageSize: _vm.pageSize, autoFixScore: _vm.autoFixScore}),false),[_c('div',{staticClass:\"search__loading spinner-border\",attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"sr-only\"},[_vm._v(\"Loading...\")])])])],null,{ term: _vm.searchTerm })],2),_c('footer',{staticClass:\"search__footer card-footer\"},[_vm._t(\"count-results\",[_c('transition',{attrs:{\"enter-active-class\":\"animated fadeInDown\"}},[(_vm.hasSearched)?_c('div',{staticClass:\"search__count\"},[_c('strong',[_vm._v(_vm._s(_vm.totalSearchResults))]),_vm._v(\" \"+_vm._s(_vm.i19items.toLowerCase())+\" \"),(_vm.totalSearchResults > _vm.pageSize)?_c('button',{staticClass:\"ml-2 btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(\" \"+_vm._s(_vm.i19seeAll)+\" \")]):_vm._e()]):_vm._e()])],null,{ hasSearched: _vm.hasSearched, totalSearchResults: _vm.totalSearchResults }),_vm._t(\"history\",[_c('transition',{attrs:{\"enter-active-class\":\"animated fadeInDown\"}},[(_vm.history.length)?_c('div',{staticClass:\"search__history d-none d-lg-block\"},[_c('i',{staticClass:\"fas fa-history\"}),_vm._l((_vm.history),function(term){return _c('a',{staticClass:\"search__history-link\",attrs:{\"href\":\"#\"},domProps:{\"textContent\":_vm._s(term)},on:{\"click\":function($event){$event.preventDefault();return _vm.setSearchTerm(term)}}})})],2):_vm._e()])],null,{ history: _vm.history })],2)],2):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/*!\n * @ecomplus/widget-search\n * (c) E-Com Club <ti@e-com.club>\n * Released under the MIT License.\n */\n\nimport Vue from 'vue'\nimport InstantSearch from '#components/InstantSearch.vue'\n\nexport default (options = {}, elId = 'instant-search', inputId = 'search-input') => {\n  const $instantSearch = document.getElementById(elId)\n  const $searchInput = document.getElementById(inputId)\n  if ($instantSearch && $searchInput) {\n    const getScopedSlots = window.storefront && window.storefront.getScopedSlots\n\n    new Vue({\n      data: {\n        isVisible: false,\n        term: ''\n      },\n      created () {\n        $searchInput.addEventListener('focusin', () => {\n          this.isVisible = true\n          this.term = $searchInput.value\n        })\n      },\n\n      render (createElement) {\n        const vm = this\n        return createElement(InstantSearch, {\n          attrs: {\n            id: elId\n          },\n          props: {\n            ...options.props,\n            term: vm.term,\n            isVisible: vm.isVisible\n          },\n          on: {\n            'update:is-visible' (isVisible) {\n              vm.isVisible = isVisible\n            },\n            'update:term' (term) {\n              $searchInput.value = term\n            }\n          },\n          scopedSlots: typeof getScopedSlots === 'function'\n            ? getScopedSlots($instantSearch, createElement)\n            : undefined\n        })\n      }\n    }).$mount($instantSearch)\n  }\n}\n"],"sourceRoot":""}